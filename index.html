<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam Master: р╕Хр╕░р╕ер╕╕р╕вр╣Вр╕Ир╕Чр╕вр╣Мр╕Щр╕▓р╕вр╕кр╕┤р╕Ъ</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <div id="menu-area">
            <h1>ЁЯОУ р╕Хр╕░р╕ер╕╕р╕вр╣Вр╕Ир╕Чр╕вр╣Мр╕Щр╕▓р╕вр╕кр╕┤р╕Ъ</h1>
            
            <div class="tree-section" onclick="openTreeModal()">
                <div class="tree-level">Level: <span id="tree-lvl-name">р╣Ар╕бр╕ер╣Зр╕Фр╕Юр╕▒р╕Щр╕Шр╕╕р╣М</span></div>
                <div class="tree-icon" id="tree-img">ЁЯМ▒</div>
                <div class="exp-bar-container"><div class="exp-bar-fill" id="tree-exp-bar"></div></div>
                <div class="exp-text">EXP: <span id="current-exp">0</span> / <span id="next-level-exp">100</span> (р╕Бр╕Фр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф)</div>
            </div>

            <p style="margin-bottom: 30px;">р╣Ар╕ер╕╖р╕нр╕Бр╕зр╕┤р╕Кр╕▓р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ</p>
            <div class="menu-grid">
                <button class="btn-subject btn-thai" onclick="selectSubject('thai')">ЁЯУЪ р╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в</button>
                <button class="btn-subject btn-com" onclick="selectSubject('computer')">ЁЯТ╗ р╕Др╕нр╕бр╕Юр╕┤р╕зр╣Ар╕Хр╕нр╕гр╣М</button>
                <button class="btn-subject btn-law" onclick="selectSubject('law')">тЪЦя╕П р╕Бр╕Ор╕лр╕бр╕▓р╕в</button>
                <button class="btn-subject btn-soc" onclick="selectSubject('society')">ЁЯМП р╕кр╕▒р╕Зр╕Др╕б+р╕нр╕▓р╣Ар╕Лр╕╡р╕вр╕Щ</button>
                <button class="btn-subject btn-math" onclick="selectSubject('math')">ЁЯзо р╕Др╕Ур╕┤р╕Хр╕ир╕▓р╕кр╕Хр╕гр╣М</button>
                <button class="btn-subject btn-eng" onclick="selectSubject('english')">ЁЯЗмЁЯЗз р╕ар╕▓р╕йр╕▓р╕нр╕▒р╕Зр╕Бр╕др╕й</button>
                <button class="btn-subject btn-dashboard" onclick="showOverallDashboard()">ЁЯУК р╣Ар╕Кр╣Зр╕Др╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕нр╕Ър╕Ир╕гр╕┤р╕З</button>
            </div>
            
            <button onclick="resetHistory()" style="margin-top:20px; background:none; border:none; color:#aaa; text-decoration:underline; cursor:pointer;">р╕ер╣Йр╕▓р╕Зр╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Др╕░р╣Бр╕Щр╕Щр╕кр╕░р╕кр╕б</button>
        </div>

        <div id="tree-modal" class="modal-overlay">
            <div class="modal-content">
                <span class="modal-close" onclick="closeTreeModal()">&times;</span>
                <h2 style="color:var(--primary); margin-bottom:5px;">ЁЯМ│ р╕кр╕Цр╕▓р╕Щр╕░р╕Вр╕нр╕Зр╕Др╕╕р╕У</h2>
                <div style="font-size:1.5rem; margin-bottom:15px;" id="modal-rank-title">...</div>
                
                <div class="status-badge" style="background:#e8f8f5; border-left:5px solid #00b894;">
                    <strong style="color:#00b894;">ЁЯФе р╕зр╕┤р╕Кр╕▓р╕Чр╕╡р╣Ир╣Бр╕Бр╕гр╣Ир╕Зр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф:</strong><br>
                    <span id="modal-best-subject">-</span>
                </div>

                <div class="status-badge" style="background:#fff0f0; border-left:5px solid #ff7675;">
                    <strong style="color:#ff7675;">ЁЯЫая╕П р╕зр╕┤р╕Кр╕▓р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕╡р╕Ър╕Лр╣Ир╕нр╕б:</strong><br>
                    <span id="modal-worst-subject">-</span>
                </div>

                <div class="blessing-box" id="modal-blessing-text">...</div>
                <div style="font-size:0.8rem; color:#aaa; margin-top:10px;" id="modal-buff-text">...</div>
            </div>
        </div>

        <div id="set-selection-area">
            <h2 id="set-selection-title">р╣Ар╕ер╕╖р╕нр╕Бр╕Кр╕╕р╕Фр╕Вр╣Йр╕нр╕кр╕нр╕Ъ</h2>
            <p style="color:#666;">р╕бр╕╡р╕Вр╣Йр╕нр╕кр╕нр╕Ър╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф <span id="total-questions-count">0</span> р╕Вр╣Йр╕н р╣Бр╕Ър╣Ир╕Зр╣Ар╕Ыр╣Зр╕Щр╕Кр╕╕р╕Фр╕ер╕░ 25 р╕Вр╣Йр╕н</p>
            <div id="set-buttons-container" class="set-grid"></div>
            <button class="btn-subject" style="background:#b2bec3; margin-top:20px; width:100%;" onclick="playSound('click'); goHome()">тмЕ р╕вр╣Йр╕нр╕Щр╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╕лр╕Щр╣Йр╕▓р╣Ар╕бр╕Щр╕╣</button>
        </div>

        <div id="quiz-area">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 id="subject-title" style="margin:0; color:var(--primary);">р╕зр╕┤р╕Кр╕▓...</h3>
                <span style="font-size: 0.9rem; color:#666;">р╕Вр╣Йр╕н <span id="current-q">1</span> / <span id="total-q">25</span></span>
            </div>
            <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
            <div class="question-box" id="question-text">Loading...</div>
            <div class="options-list" id="options-container"></div>
            <div id="explanation-area" class="explanation-box"><span style="font-weight:bold;">ЁЯТб р╣Ар╕Йр╕ер╕в:</span> <span id="explanation-text">...</span></div>
            <button id="btn-next-q" class="btn-next" onclick="nextQuestion()">р╕Вр╣Йр╕нр╕Цр╕▒р╕Фр╣Др╕Ы тЮЬ</button>
            <div style="margin-top: 30px;">
                <button class="btn-subject" style="background:#b2bec3; padding:10px 20px; font-size:0.9rem;" onclick="playSound('click'); showSetSelection(currentSubjectName)">р╕вр╕Бр╣Ар╕ер╕┤р╕Бр╕Бр╕▓р╕гр╕кр╕нр╕Ъ</button>
            </div>
        </div>

        <div id="score-area">
            <h1>ЁЯУК р╕Ьр╕ер╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ</h1>
            <div class="score-circle" id="final-score">0/0</div>
            <div style="background:#d4edda; color:#155724; padding:15px; border-radius:10px; margin-bottom:20px;"><strong>ЁЯМ┐ р╕Др╕╕р╕Ур╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Ыр╕╕р╣Лр╕вр╕Ър╕│р╕гр╕╕р╕Зр╕Хр╣Йр╕Щр╣Др╕бр╣Й: +<span id="gained-xp">0</span> р╣Бр╕Хр╣Йр╕б!</strong></div>
            <div class="analysis-box"><h3 style="color: #d63031;">тЪая╕П р╕Ир╕╕р╕Фр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕зр╕▒р╕З:</h3><div id="weakness-tags"></div></div>
            <div class="analysis-box"><h3 style="color: #e17055;">ЁЯУЭ р╣Ар╕Йр╕ер╕вр╕Вр╣Йр╕нр╕Чр╕╡р╣Ир╕Ьр╕┤р╕Ф:</h3><div id="review-list" style="max-height: 200px; overflow-y: auto;"></div></div>
            <button class="btn-subject btn-com" onclick="playSound('click'); showSetSelection(currentSubjectName)" style="margin: 20px auto; width:100%;">р╕Чр╕│р╕Кр╕╕р╕Фр╕нр╕╖р╣Ир╕Щр╕Хр╣Ир╕н</button>
        </div>

        <div id="dashboard-area">
            <h1>ЁЯУИ р╕кр╕гр╕╕р╕Ыр╕Др╕зр╕▓р╕бр╕Юр╕гр╣Йр╕нр╕бр╕кр╕нр╕Ър╕Ир╕гр╕┤р╕З</h1>
            <div class="dash-card">
                <h2 style="margin:0 0 15px 0; color:#2d3436;">р╣Ар╕Бр╕гр╕Фр╣Ар╕Йр╕ер╕╡р╣Ир╕вр╕гр╕зр╕б: <span id="total-percent" style="color:var(--primary); font-size:1.8rem;">0%</span></h2>
                <div id="overall-advice" class="advice-box">...</div>
            </div>
            <div class="dash-card" id="stats-container"></div>
            <button class="btn-subject btn-com" onclick="playSound('click'); goHome()" style="width:100%;">р╕Бр╕ер╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╣Ар╕бр╕Щр╕╣</button>
        </div>
    </div>

    <script src="subject_thai.js"></script>
    <script src="subject_computer.js"></script>
    <script src="subject_law.js"></script>
    <script src="subject_society.js"></script>
    <script src="math.js"></script>
    <script src="eng.js"></script>
    <script src="app.js"></script>
</body>
</html>
